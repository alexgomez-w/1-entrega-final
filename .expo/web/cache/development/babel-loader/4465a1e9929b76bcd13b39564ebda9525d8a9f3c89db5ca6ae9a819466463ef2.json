{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nexport var cartSlice = createSlice({\n  name: \"Cart\",\n  initialState: {\n    value: {\n      user: \"Hardcoder user\",\n      updatedAt: \"\",\n      total: null,\n      items: []\n    }\n  },\n  reducers: {\n    addCartItem: function addCartItem(state, action) {\n      var productExists = state.value.items.some(function (item) {\n        return item.id === action.payload.id;\n      });\n      if (productExists) {\n        state.value.items = state.value.items.map(function (item) {\n          if (item.id === action.payload.id) {\n            item.quantity += action.payload.quantity;\n            return item;\n          }\n          return item;\n        });\n      } else state.value.items.push(action.payload);\n      state.value.total = state.value.items.reduce(function (acc, currentItem) {\n        return acc += currentItem.price * currentItem.quantity;\n      }, 0);\n      state.value.updatedAt = new Date().toLocaleString();\n    },\n    removeCartItem: function removeCartItem(state, action) {}\n  }\n});\nvar _cartSlice$actions = cartSlice.actions,\n  addCartItem = _cartSlice$actions.addCartItem,\n  removeCartItem = _cartSlice$actions.removeCartItem;\nexport { addCartItem, removeCartItem };\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","value","user","updatedAt","total","items","reducers","addCartItem","state","action","productExists","some","item","id","payload","map","quantity","push","reduce","acc","currentItem","price","Date","toLocaleString","removeCartItem","_cartSlice$actions","actions","reducer"],"sources":["C:/Users/alexander.gomez/projects/clonados/CODERHOUSE/1-entrega-final/src/Features/Cart/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const cartSlice = createSlice({\n    name: \"Cart\",\n    initialState: {\n        value: {\n            user: \"Hardcoder user\",\n            updatedAt: \"\",\n            total: null,\n            items: []\n        }\n    },\n    reducers: {\n        addCartItem: (state, action) => {\n            //Logic to add item\n            //1. Check productExists\n            const productExists = state.value.items.some(item => item.id === action.payload.id)\n\n            //2. Distinct logic if exists product or not\n            if (productExists) {\n                state.value.items = state.value.items.map(item => {\n                    if (item.id === action.payload.id) {\n                        item.quantity += action.payload.quantity\n                        return item\n                    }\n                    return item\n                })\n            } else state.value.items.push(action.payload)\n\n            //3. Update total\n            state.value.total = state.value.items.reduce(\n                (acc, currentItem) => acc += currentItem.price * currentItem.quantity,\n                0\n            )\n\n            //4. Update updatedAt\n            state.value.updatedAt = new Date().toLocaleString()\n        },\n        removeCartItem: (state,action) => {\n            //Logic to remove item\n        }\n    }\n})\n\nexport const {addCartItem, removeCartItem} = cartSlice.actions\n\nexport default cartSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,IAAMC,SAAS,GAAGD,WAAW,CAAC;EACjCE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,KAAK,EAAE;MACHC,IAAI,EAAE,gBAAgB;MACtBC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,IAAI;MACXC,KAAK,EAAE;IACX;EACJ,CAAC;EACDC,QAAQ,EAAE;IACNC,WAAW,EAAE,SAAAA,YAACC,KAAK,EAAEC,MAAM,EAAK;MAG5B,IAAMC,aAAa,GAAGF,KAAK,CAACP,KAAK,CAACI,KAAK,CAACM,IAAI,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE;MAAA,EAAC;MAGnF,IAAIH,aAAa,EAAE;QACfF,KAAK,CAACP,KAAK,CAACI,KAAK,GAAGG,KAAK,CAACP,KAAK,CAACI,KAAK,CAACU,GAAG,CAAC,UAAAH,IAAI,EAAI;UAC9C,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,EAAE;YAC/BD,IAAI,CAACI,QAAQ,IAAIP,MAAM,CAACK,OAAO,CAACE,QAAQ;YACxC,OAAOJ,IAAI;UACf;UACA,OAAOA,IAAI;QACf,CAAC,CAAC;MACN,CAAC,MAAMJ,KAAK,CAACP,KAAK,CAACI,KAAK,CAACY,IAAI,CAACR,MAAM,CAACK,OAAO,CAAC;MAG7CN,KAAK,CAACP,KAAK,CAACG,KAAK,GAAGI,KAAK,CAACP,KAAK,CAACI,KAAK,CAACa,MAAM,CACxC,UAACC,GAAG,EAAEC,WAAW;QAAA,OAAKD,GAAG,IAAIC,WAAW,CAACC,KAAK,GAAGD,WAAW,CAACJ,QAAQ;MAAA,GACrE,CACJ,CAAC;MAGDR,KAAK,CAACP,KAAK,CAACE,SAAS,GAAG,IAAImB,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC;IACvD,CAAC;IACDC,cAAc,EAAE,SAAAA,eAAChB,KAAK,EAACC,MAAM,EAAK,CAElC;EACJ;AACJ,CAAC,CAAC;AAEK,IAAAgB,kBAAA,GAAsC3B,SAAS,CAAC4B,OAAO;EAAhDnB,WAAW,GAAAkB,kBAAA,CAAXlB,WAAW;EAAEiB,cAAc,GAAAC,kBAAA,CAAdD,cAAc;AAAqB,SAAAjB,WAAA,EAAAiB,cAAA;AAE9D,eAAe1B,SAAS,CAAC6B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}