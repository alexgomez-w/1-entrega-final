{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport React, { useEffect } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport AuthStack from \"./AuthStack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSession } from \"../SQLite\";\nimport { setUser } from \"../Features/User/userSlice\";\nimport TabNavigator from \"./TabNavigator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Navigator = function Navigator() {\n  var _useSelector = useSelector(function (state) {\n      return state.userReducer.value;\n    }),\n    email = _useSelector.email;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      try {\n        var session = yield getSession();\n        if (session != null && session.rows.length) {\n          var user = session.rows._array[0];\n          dispatch(setUser(user));\n        }\n      } catch (error) {}\n    })();\n  }, []);\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(NavigationContainer, {\n      children: email ? _jsx(TabNavigator, {}) : _jsx(AuthStack, {})\n    })\n  });\n};\nexport default Navigator;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n  }\n});","map":{"version":3,"names":["React","useEffect","NavigationContainer","StatusBar","AuthStack","useDispatch","useSelector","getSession","setUser","TabNavigator","jsx","_jsx","Navigator","_useSelector","state","userReducer","value","email","dispatch","_asyncToGenerator","session","rows","length","user","_array","error","SafeAreaView","style","styles","container","children","StyleSheet","create","flex","paddingTop","Platform","OS","currentHeight"],"sources":["C:/Users/alexander.gomez/projects/clonados/CODERHOUSE/1-entrega-final/src/Navigation/Navigator.jsx"],"sourcesContent":["import {\n    Platform,\n    SafeAreaView,\n    StyleSheet,\n} from \"react-native\";\nimport React, { useEffect } from \"react\";\n\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { StatusBar } from \"react-native\";\n\nimport AuthStack from \"./AuthStack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSession } from \"../SQLite\";\nimport { setUser } from \"../Features/User/userSlice\";\nimport TabNavigator from \"./TabNavigator\";\n\nconst Navigator = () => {\n    const { email } = useSelector((state) => state.userReducer.value);\n    \n    const dispatch = useDispatch()\n\n    //Get stored sessions\n    useEffect(()=> {\n        (async ()=> {\n            try {\n                const session = await getSession()\n                if (session?.rows.length) {\n                    const user = session.rows._array[0]\n                    dispatch(setUser(user))\n                }\n            } catch (error) {\n                \n            }\n        })()\n    }, [])\n\n    return (\n        <SafeAreaView style={styles.container}>\n            <NavigationContainer>\n                {email ? (\n                    <TabNavigator/>\n                ) : (\n                    <AuthStack />\n                )}\n            </NavigationContainer>\n        </SafeAreaView>\n    );\n};\n\nexport default Navigator;\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0,\n    },\n});\n"],"mappings":";;;;AAKA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,SAASC,mBAAmB,QAAQ,0BAA0B;AAAC,OAAAC,SAAA;AAG/D,OAAOC,SAAS;AAChB,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU;AACnB,SAASC,OAAO;AAChB,OAAOC,YAAY;AAAuB,SAAAC,GAAA,IAAAC,IAAA;AAE1C,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;EACpB,IAAAC,YAAA,GAAkBP,WAAW,CAAC,UAACQ,KAAK;MAAA,OAAKA,KAAK,CAACC,WAAW,CAACC,KAAK;IAAA,EAAC;IAAzDC,KAAK,GAAAJ,YAAA,CAALI,KAAK;EAEb,IAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAG9BJ,SAAS,CAAC,YAAK;IACXkB,iBAAA,CAAC,aAAW;MACR,IAAI;QACA,IAAMC,OAAO,SAASb,UAAU,CAAC,CAAC;QAClC,IAAIa,OAAO,YAAPA,OAAO,CAAEC,IAAI,CAACC,MAAM,EAAE;UACtB,IAAMC,IAAI,GAAGH,OAAO,CAACC,IAAI,CAACG,MAAM,CAAC,CAAC,CAAC;UACnCN,QAAQ,CAACV,OAAO,CAACe,IAAI,CAAC,CAAC;QAC3B;MACJ,CAAC,CAAC,OAAOE,KAAK,EAAE,CAEhB;IACJ,CAAC,EAAE,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EAEN,OACId,IAAA,CAACe,YAAY;IAACC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EAClCnB,IAAA,CAACT,mBAAmB;MAAA4B,QAAA,EACfb,KAAK,GACFN,IAAA,CAACF,YAAY,IAAC,CAAC,GAEfE,IAAA,CAACP,SAAS,IAAE;IACf,CACgB;EAAC,CACZ,CAAC;AAEvB,CAAC;AAED,eAAeQ,SAAS;AAExB,IAAMgB,MAAM,GAAGG,UAAU,CAACC,MAAM,CAAC;EAC7BH,SAAS,EAAE;IACPI,IAAI,EAAE,CAAC;IACPC,UAAU,EAAEC,QAAQ,CAACC,EAAE,KAAK,SAAS,GAAGjC,SAAS,CAACkC,aAAa,GAAG;EACtE;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}