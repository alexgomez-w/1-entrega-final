{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport { realtime_database_url } from \"../Database/firebaseConfig\";\nexport var shopApi = createApi({\n  reducerPath: 'shopApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: realtime_database_url\n  }),\n  endpoints: function endpoints(builder) {\n    return {\n      getCategories: builder.query({\n        query: function query() {\n          return \"categories.json\";\n        }\n      }),\n      getProducts: builder.query({\n        query: function query() {\n          return \"products.json\";\n        }\n      }),\n      getProductsByCategory: builder.query({\n        query: function query(category) {\n          return \"products.json?orderBy=\\\"category\\\"&equalTo=\\\"\" + category + \"\\\"\";\n        },\n        transformResponse: function transformResponse(response) {\n          var productsTransformed = Object.values(response);\n          return productsTransformed;\n        }\n      }),\n      getProductById: builder.query({\n        query: function query(productId) {\n          return \"products.json?orderBy=\\\"id\\\"&equalTo=\" + productId;\n        },\n        transformResponse: function transformResponse(response) {\n          var productTransformed = Object.values(response).pop();\n          return productTransformed;\n        }\n      }),\n      postCart: builder.mutation({\n        query: function query(order) {\n          return {\n            url: \"orders.json\",\n            method: \"POST\",\n            body: order\n          };\n        }\n      }),\n      getProfileImage: builder.query({\n        query: function query(localId) {\n          return \"profileImages/\" + localId + \".json\";\n        }\n      }),\n      postProfileImage: builder.mutation({\n        query: function query(_ref) {\n          var image = _ref.image,\n            localId = _ref.localId;\n          return {\n            url: \"profileImages/\" + localId + \".json\",\n            method: \"PUT\",\n            body: {\n              image: image\n            }\n          };\n        }\n      }),\n      getUserLocation: builder.query({\n        query: function query(localId) {\n          return \"locations/\" + localId + \".json\";\n        }\n      }),\n      postUserLocation: builder.mutation({\n        query: function query(_ref2) {\n          var location = _ref2.location,\n            localId = _ref2.localId;\n          return {\n            url: \"locations/\" + localId + \".json\",\n            method: \"PUT\",\n            body: {\n              latitude: location.latitude,\n              longitude: location.longitude,\n              address: location.address\n            }\n          };\n        }\n      })\n    };\n  }\n});\nvar useGetCategoriesQuery = shopApi.useGetCategoriesQuery,\n  useGetProductsQuery = shopApi.useGetProductsQuery,\n  useGetProductsByCategoryQuery = shopApi.useGetProductsByCategoryQuery,\n  useGetProductByIdQuery = shopApi.useGetProductByIdQuery,\n  usePostCartMutation = shopApi.usePostCartMutation,\n  useGetProfileImageQuery = shopApi.useGetProfileImageQuery,\n  usePostProfileImageMutation = shopApi.usePostProfileImageMutation,\n  useGetUserLocationQuery = shopApi.useGetUserLocationQuery,\n  usePostUserLocationMutation = shopApi.usePostUserLocationMutation;\nexport { useGetCategoriesQuery, useGetProductsQuery, useGetProductsByCategoryQuery, useGetProductByIdQuery, usePostCartMutation, useGetProfileImageQuery, usePostProfileImageMutation, useGetUserLocationQuery, usePostUserLocationMutation };","map":{"version":3,"names":["createApi","fetchBaseQuery","realtime_database_url","shopApi","reducerPath","baseQuery","baseUrl","endpoints","builder","getCategories","query","getProducts","getProductsByCategory","category","transformResponse","response","productsTransformed","Object","values","getProductById","productId","productTransformed","pop","postCart","mutation","order","url","method","body","getProfileImage","localId","postProfileImage","_ref","image","getUserLocation","postUserLocation","_ref2","location","latitude","longitude","address","useGetCategoriesQuery","useGetProductsQuery","useGetProductsByCategoryQuery","useGetProductByIdQuery","usePostCartMutation","useGetProfileImageQuery","usePostProfileImageMutation","useGetUserLocationQuery","usePostUserLocationMutation"],"sources":["C:/Users/alexander.gomez/projects/clonados/CODERHOUSE/1-entrega-final/src/Services/shopServices.js"],"sourcesContent":["import {createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\"\nimport { realtime_database_url } from \"../Database/firebaseConfig\"\n\nexport const shopApi = createApi({\n    reducerPath: 'shopApi',\n    baseQuery: fetchBaseQuery({baseUrl: realtime_database_url}),\n    endpoints: (builder) => ({\n        getCategories: builder.query({\n            query: () => `categories.json`\n        }),\n        getProducts: builder.query({\n            query: () => `products.json`\n        }),\n        getProductsByCategory: builder.query({\n            query: (category) => `products.json?orderBy=\"category\"&equalTo=\"${category}\"`,\n            transformResponse: (response) => {\n                const productsTransformed = Object.values(response)\n                return (productsTransformed)\n            }\n        }),\n        getProductById: builder.query({\n            query: (productId) => `products.json?orderBy=\"id\"&equalTo=${productId}`,\n            transformResponse: (response) => {\n                const productTransformed = Object.values(response).pop()\n                return (productTransformed)\n            }\n        }),\n        postCart: builder.mutation({\n            query: (order) => ({\n                url: `orders.json`,\n                method: `POST`,\n                body: order\n            })\n        }),\n        getProfileImage: builder.query({\n            query: (localId) => `profileImages/${localId}.json`,\n        }),\n        //AquÃ­ hacemos un put para que no me genere ninguna clave nueva de por medio.\n        postProfileImage: builder.mutation({\n            query: ({image, localId}) => ({\n                url: `profileImages/${localId}.json`,\n                method: \"PUT\",\n                body: {\n                    image: image\n                },\n            }),\n        }),\n        getUserLocation: builder.query({\n            query: (localId) => `locations/${localId}.json`,\n        }),\n        postUserLocation: builder.mutation({\n            query: ({location, localId}) => ({\n                url: `locations/${localId}.json`,\n                method: \"PUT\",\n                body: {\n                    latitude: location.latitude,\n                    longitude: location.longitude,\n                    address: location.address\n                }\n            })\n        }),\n    })\n})\n\nexport const {\n    useGetCategoriesQuery, \n    useGetProductsQuery, \n    useGetProductsByCategoryQuery,\n    useGetProductByIdQuery,\n    usePostCartMutation,\n    useGetProfileImageQuery,\n    usePostProfileImageMutation,\n    useGetUserLocationQuery,\n    usePostUserLocationMutation,\n} = shopApi"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}